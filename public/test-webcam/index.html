<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proctored Assessment</title>
    <link rel="stylesheet" href="style.css">

    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/face-landmarks-detection"></script>
</head>
<body>

    <div id="instructions-modal" class="modal-overlay">
        <div class="modal-content">
            <h2>Assessment Instructions</h2>
            <p>Please read the following rules carefully before you begin:</p>
            <ul>
                <li>You have <strong>30 minutes</strong> to complete the test.</li>
                <li>The test will start in <strong>full-screen mode</strong>. Exiting full-screen will trigger a warning.</li>
                <li><strong>Do not switch tabs</strong> or minimize the browser, as this will also be flagged.</li>
                <li>Your webcam will be active for monitoring.</li>
                <li>Ensure you are alone in a well-lit room.</li>
            </ul>
            <p class="warning-note">You will receive a warning for any suspicious activity. After <strong>3 warnings</strong>, your test will be automatically submitted.</p>
            <button id="start-btn">I Understand, Start Test</button>
        </div>
    </div>

    <div class="main-container" id="test-container" style="display: none;">
        <div class="webcam-panel">
            <h3>Proctoring Feed</h3>
            <div class="video-container">
                <video id="webcam" autoplay muted playsinline></video>
                <div id="status-overlay" class="status-ok">STATUS: OK</div>
            </div>
            <div class="proctor-info">
                <div id="timer">Time Left: 30:00</div>
                <div id="warnings">Warnings Left: 3</div>
            </div>
        </div>
        <div class="test-panel">
            <iframe id="google-form" src="https://docs.google.com/forms/d/e/1FAIpQLScopAipCvKwYyRC8DqZh21pb8Gl2ruvT4qgKb2rTQR1gxuF8w/viewform?embedded=true" frameborder="0">Loadingâ€¦</iframe>
        </div>
    </div>
    
    <audio id="warning-sound" src="https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg"></audio>

    <script src="script.js"></script>
</body>
</html>